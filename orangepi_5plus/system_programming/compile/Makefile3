CC := gcc
CFLAGS := -I include/
CFLAGS += -c
TARGET := bin/calc
DEPEND := obj/mycalc.o
DEPEND += obj/math.o

#书写规则：将最后生成的可执行文件放在最上边，然后指定它所依赖的文件
$(TARGET): $(DEPEND)
    $(CC) -o bin/calc obj/math.o obj/mycalc.o

obj/math.o: src/math.c
    $(CC) -o obj/math.o -c src/math.c

obj/mycalc.o: src/mycalc.c
    $(CC) -o obj/mycalc.o $(CFLAGS) src/mycalc.c

#这里的mycalc.c文件里用到include目录下的头文件，所以要指定头文件的目录
clear:
	rm -rf obj/*
	rm -rf bin/*
