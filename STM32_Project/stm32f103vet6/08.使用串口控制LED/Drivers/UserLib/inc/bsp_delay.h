/***************************************************************
 * 文件名 : bsp_delay.h
 * 功能   : 系统毫秒延时 + 系统时基接口
 * 说明   :
 *   1. 提供系统毫秒时基初始化
 *   2. 提供获取系统运行时间接口（毫秒）
 *   3. 提供延时接口（ms/us/s）
 *   4. 配合 bsp_delay.c 使用
 ***************************************************************/

#ifndef BSP_DELAY_H
#define BSP_DELAY_H

#include "stm32f10x.h"

/*-----------------------------------------------------------
 * 函数名 : BSP_TimeBase_Init
 * 功能   : 初始化系统时基
 * 使用时机: 系统启动阶段 main() 最开始调用一次
 *----------------------------------------------------------*/
extern void BSP_TimeBase_Init(void);

/*-----------------------------------------------------------
 * 函数名 : BSP_GetTick
 * 功能   : 获取系统当前运行时间（毫秒）
 * 返回值 : 系统运行毫秒数
 * 用途   : 超时检测、非阻塞延时、协议状态机
 *----------------------------------------------------------*/
extern uint32_t BSP_GetTick(void);

/*-----------------------------------------------------------
 * 函数名 : BSP_Delay_ms
 * 功能   : 延时指定毫秒数（基于系统时基）
 * 参数   : ms - 延时毫秒数
 * 注意   : CPU 会忙等，延时期间可响应中断
 *----------------------------------------------------------*/
extern void BSP_Delay_ms(uint32_t ms);

/*-----------------------------------------------------------
 * 函数名 : BSP_Delay_us
 * 功能   : 延时指定微秒数（短精度延时）
 * 参数   : us - 延时微秒数
 * 注意   :
 *   1. 只用于 GPIO 精确脉冲或复位等短延时
 *   2. 不破坏系统时基
 *----------------------------------------------------------*/
extern void BSP_Delay_us(uint32_t us);

/*-----------------------------------------------------------
 * 函数名 : BSP_Delay_s
 * 功能   : 延时指定秒数
 * 参数   : s - 延时秒数
 *----------------------------------------------------------*/
extern void BSP_Delay_s(uint32_t s);

#endif
